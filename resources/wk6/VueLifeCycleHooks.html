<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Understanding Vue.js Lifecycle Hooks | Codeworks Workbook</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Resource for Codeworks Immersive FullStack Students">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.264007ef.css" as="style"><link rel="preload" href="/assets/js/app.b782f0d7.js" as="script"><link rel="preload" href="/assets/js/2.41bf532a.js" as="script"><link rel="preload" href="/assets/js/39.1f6dc2fb.js" as="script"><link rel="prefetch" href="/assets/js/10.c00206a1.js"><link rel="prefetch" href="/assets/js/11.f542a317.js"><link rel="prefetch" href="/assets/js/12.efa1befe.js"><link rel="prefetch" href="/assets/js/13.8b1067d9.js"><link rel="prefetch" href="/assets/js/14.937c2d2e.js"><link rel="prefetch" href="/assets/js/15.dae2e62d.js"><link rel="prefetch" href="/assets/js/16.7e851baa.js"><link rel="prefetch" href="/assets/js/17.d2dcfab7.js"><link rel="prefetch" href="/assets/js/18.d5a413dd.js"><link rel="prefetch" href="/assets/js/19.8185ecc0.js"><link rel="prefetch" href="/assets/js/20.ae812b93.js"><link rel="prefetch" href="/assets/js/21.a8406ff6.js"><link rel="prefetch" href="/assets/js/22.911e1a9c.js"><link rel="prefetch" href="/assets/js/23.1076e5c0.js"><link rel="prefetch" href="/assets/js/24.97f70575.js"><link rel="prefetch" href="/assets/js/25.7392de28.js"><link rel="prefetch" href="/assets/js/26.d8b500b8.js"><link rel="prefetch" href="/assets/js/27.5fda3c20.js"><link rel="prefetch" href="/assets/js/28.c2c81496.js"><link rel="prefetch" href="/assets/js/29.98c0d56a.js"><link rel="prefetch" href="/assets/js/3.bc041b8a.js"><link rel="prefetch" href="/assets/js/30.1c9c59b4.js"><link rel="prefetch" href="/assets/js/31.d2c040b6.js"><link rel="prefetch" href="/assets/js/32.d2073d33.js"><link rel="prefetch" href="/assets/js/33.807531ec.js"><link rel="prefetch" href="/assets/js/34.42aaf6c1.js"><link rel="prefetch" href="/assets/js/35.9c63d92c.js"><link rel="prefetch" href="/assets/js/36.43aaf9ee.js"><link rel="prefetch" href="/assets/js/37.1b0d1188.js"><link rel="prefetch" href="/assets/js/38.12c3a395.js"><link rel="prefetch" href="/assets/js/4.7a538b72.js"><link rel="prefetch" href="/assets/js/40.67ee77cd.js"><link rel="prefetch" href="/assets/js/41.13eb906d.js"><link rel="prefetch" href="/assets/js/42.541fb8eb.js"><link rel="prefetch" href="/assets/js/43.da908e4d.js"><link rel="prefetch" href="/assets/js/5.7189ec79.js"><link rel="prefetch" href="/assets/js/6.40ece6a5.js"><link rel="prefetch" href="/assets/js/7.36978bb5.js"><link rel="prefetch" href="/assets/js/8.1831ce67.js"><link rel="prefetch" href="/assets/js/9.33a217fd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.264007ef.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Codeworks Workbook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/resources/" class="nav-link router-link-active">
  Resources
</a></div><div class="nav-item"><a href="/vocab/" class="nav-link">
  Vocab
</a></div><div class="nav-item"><a href="https://boisecodeworks.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codeworks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/resources/" class="nav-link router-link-active">
  Resources
</a></div><div class="nav-item"><a href="/vocab/" class="nav-link">
  Vocab
</a></div><div class="nav-item"><a href="https://boisecodeworks.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codeworks
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Student Resources</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Building Blocks Of Web Development</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Intro To Js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advancing with Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Asynchronous Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Servers with Node/Express</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Frontend Frameworks with Vue3</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/resources/wk6/ComponentBasedArchitecture.html" class="sidebar-link">Understanding Component-Based Architecture</a></li><li><a href="/resources/wk6/VueLifeCycleHooks.html" aria-current="page" class="active sidebar-link">Understanding Vue.js Lifecycle Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#understanding-creation-hooks-initialization" class="sidebar-link">Understanding Creation Hooks (Initialization)</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#understanding-mounting-hooks-dom-insertion" class="sidebar-link">Understanding Mounting Hooks (DOM Insertion)</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#understanding-updating-hooks-diff-re-render" class="sidebar-link">Understanding Updating Hooks (Diff &amp; Re-render)</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#understanding-destruction-hooks-teardown" class="sidebar-link">Understanding Destruction Hooks (Teardown)</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#other-hooks" class="sidebar-link">Other Hooks</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#composition-api-with-vue3" class="sidebar-link">Composition API with Vue3</a></li><li class="sidebar-sub-header"><a href="/resources/wk6/VueLifeCycleHooks.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="understanding-vue-js-lifecycle-hooks"><a href="#understanding-vue-js-lifecycle-hooks" class="header-anchor">#</a> Understanding Vue.js Lifecycle Hooks</h1> <h3 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h3> <p>Lifecycle hooks are a window into how the library you're using works behind-the-scenes. Lifecycle hooks allow you to know when your component is created, added to the DOM, updated, or destroyed.</p> <p>This diagram from <a href="https://vuejs.org/v2/guide/instance#Lifecycle-Diagram" target="_blank" rel="noopener noreferrer">the official Vue.js documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> captures the Vue.js Instance Lifecycle:</p> <p><img src="https://imgur.com/XLvznbh.png" alt="Vue.js Instance Lifecycle Diagram"></p> <p>This article will introduce you to the creation, mounting, updating, and destruction hooks.</p> <h2 id="understanding-creation-hooks-initialization"><a href="#understanding-creation-hooks-initialization" class="header-anchor">#</a> Understanding Creation Hooks (Initialization)</h2> <p><em>Creation hooks</em> are the very first hooks that run in your component. They allow you to perform actions before your component has even been added to the DOM. Unlike any of the other hooks, creation hooks are also run during server-side rendering.</p> <p>Use creation hooks if you need to set things up in your component, both during client rendering and server rendering.</p> <p>You will not have access to the DOM or the target mounting element (<code>this.$el</code>) inside of creation hooks.</p> <h3 id="beforecreate"><a href="#beforecreate" class="header-anchor">#</a> <code>beforeCreate</code></h3> <p>The <code>beforeCreate</code> hook runs at the very initialization of your component. <code>data</code> has not been made reactive, and <code>events</code> have not been set up yet:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'At this point, events and lifecycle have been initialized.'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>In this example, when the <code>beforeCreate</code> hook is run, this snippet will log the message: <code>At this point, events and lifecycle have been initialized.</code>.</p> <h3 id="created"><a href="#created" class="header-anchor">#</a> <code>created</code></h3> <p>You are able to access reactive <code>data</code> and <code>events</code> that are active with the <code>created</code> hook. Templates and Virtual DOM have not yet been mounted or rendered:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;example-element&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> propertyComputed <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      property<span class="token operator">:</span> <span class="token string">'Example property.'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">propertyComputed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'At this point, this.property is now reactive and propertyComputed will update.'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token string">'Example property updated.'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>In this example, the snippet will store <code>property</code> as <code>Example property</code>. When the <code>created</code> hook is run, a message of <code>At this point, this.property is now reactive and propertyComputed will update.</code> will be logged, and then <code>property</code> is changed to <code>Example property updated</code>.</p> <p>Later in the lifecycle,<code></code> will appear as <code>Example property updated</code> instead of <code>Example property</code>.</p> <p>In this step, you reviewed some examples of creation hooks and are ready to move to the next part of the lifecycle, mounting hooks.</p> <h2 id="understanding-mounting-hooks-dom-insertion"><a href="#understanding-mounting-hooks-dom-insertion" class="header-anchor">#</a> Understanding Mounting Hooks (DOM Insertion)</h2> <p><em>Mounting hooks</em> are often the most used hooks. They allow you to access your component immediately before and after the first render. They do not, however, run during server-side rendering.</p> <p>Use mounting hooks if you need to access or modify the DOM of your component immediately before or after the initial render.</p> <p>Do not use mounting hooks if you need to fetch some data for your component on initialization.</p> <p>Note: Use <code>created</code> (or <code>created</code> and <code>activated</code> for <code>keep-alive</code> components) for this instead. Especially if you need that data during server-side rendering.</p> <h3 id="beforemount"><a href="#beforemount" class="header-anchor">#</a> <code>beforeMount</code></h3> <p>The <code>beforeMount</code> hook runs right before the initial render happens and after the template or render functions have been compiled:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, vm.$el has not been created yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>In this example, when the <code>beforeMount</code> hook is run, this snippet will log the message: <code>At this point, vm.$el has not been created yet.</code>.</p> <h3 id="mounted"><a href="#mounted" class="header-anchor">#</a> <code>mounted</code></h3> <p>In the <code>mounted</code> hook, you will have full access to the reactive component, templates, and rendered DOM (via <code>this.$el</code>).</p> <p>Use <code>mounted</code> for modifying the DOM---particularly when integrating non-<code>Vue</code> libraries:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;example-element&quot;</span><span class="token operator">&gt;</span>Example component<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, vm.$el has been created and el has been replaced.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span> <span class="token comment">// Example component.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>In this example, when the <code>mounted</code> hook is run, this snippet will log the message <code>At this point, vm.$el has been created and el has been replaced.</code>. In addition, a message of <code>Example content.</code> (<code>this.$el.textContent</code>) will be logged.</p> <p>In this section, you explored use-cases for mounting hooks. In the next step, you review some examples that use updating hooks.</p> <h2 id="understanding-updating-hooks-diff-re-render"><a href="#understanding-updating-hooks-diff-re-render" class="header-anchor">#</a> Understanding Updating Hooks (Diff &amp; Re-render)</h2> <p><em>Updating hooks</em> are called whenever a reactive property used by your component changes or something else causes it to re-render. They allow you to hook into the <em>watch-compute-render</em> cycle for your component.</p> <p>Use updating hooks if you need to know when your component re-renders, perhaps for debugging or profiling.</p> <p>Do not use updating hooks if you need to know when a reactive property on your component changes. Use <a href="https://www.digitalocean.com/community/tutorials/vuejs-computed-properties" target="_blank" rel="noopener noreferrer">computed properties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or <a href="https://vuejs.org/v2/api/#watch" target="_blank" rel="noopener noreferrer">watchers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for that instead.</p> <h3 id="beforeupdate"><a href="#beforeupdate" class="header-anchor">#</a> <code>beforeUpdate</code></h3> <p>The <code>beforeUpdate</code> hook runs after data changes on your component and the update cycle begins, right before the DOM is patched and re-rendered.</p> <p>Use <code>beforeUpdate</code> if you need to get the new state of any reactive data on your component before it actually gets rendered:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;example-element&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>counter<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      counter<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, Virtual DOM has not re-rendered or patched yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token comment">// Logs the counter value every second, before the DOM updates.</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>First, this snippet will store <code>counter</code> as <code>0</code>. When the <code>created</code> hook is run, it will increment <code>counter</code> every <code>1000</code> ms. When the <code>beforeUpdate</code> hook is run, this snippet will log the message: <code>At this point, Virtual DOM has not re-rendered or patched yet.</code> and a number for <code>counter</code> is logged.</p> <h3 id="updated"><a href="#updated" class="header-anchor">#</a> <code>updated</code></h3> <p>The <code>updated</code> hook runs after data changes on your component and the DOM re-renders.</p> <p>Use <code>updated</code> if you need to access the DOM after a property change:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">&quot;example-element&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>counter<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      counter<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token operator">++</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, Virtual DOM has re-rendered and patched.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token comment">// Fired every second, should always be true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'example-element'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>textContent <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>counter<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>First, this snippet will store <code>counter</code> as <code>0</code>. When the <code>created</code> hook is run, it will increment <code>counter</code> every <code>1000</code> ms. When the <code>updated</code> hook is run, this snippet will log the message: <code>At this point, Virtual DOM has re-rendered and patched.</code> and a boolean value of <code>true</code> is logged because the rendered value and current value are equal.</p> <p>Now that you've explored the use of updating hooks, you are ready to learn about destruction hooks.</p> <h2 id="understanding-destruction-hooks-teardown"><a href="#understanding-destruction-hooks-teardown" class="header-anchor">#</a> Understanding Destruction Hooks (Teardown)</h2> <p><em>Destruction hooks</em> allow you to perform actions when your component is destroyed, such as cleanup or analytics sending. They fire when your component is being torn down and removed from the DOM.</p> <h3 id="beforedestroy"><a href="#beforedestroy" class="header-anchor">#</a> <code>beforeDestroy</code></h3> <p><code>beforeDestroy</code> is fired right before teardown. Your component will still be fully present and functional.</p> <p>Use <code>beforeDestroy</code> if you need to clean-up events or reactive subscriptions:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      exampleLeakyProperty<span class="token operator">:</span> <span class="token string">'This represents a property that will leak memory if not cleaned up.'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, watchers, child components, and event listeners have not been teared down yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token comment">// Perform the teardown procedure for exampleLeakyProperty.</span>
    <span class="token comment">// (In this case, effectively nothing)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>exampleLeakyProperty <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>exampleLeakyProperty
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>This snippet will first store <code>exampleLeakyProperty</code>. When the <code>beforeDestroy</code> hook is run, this snippet will log the message <code>At this point, watchers, child components, and event listeners have not been torn down yet.</code> and then <code>exampleLeakyProperty</code> is deleted.</p> <h3 id="destroyed"><a href="#destroyed" class="header-anchor">#</a> <code>destroyed</code></h3> <p>By the time you reach the <code>destroyed</code> hook, there's practically nothing left on your component. Everything that was attached to it has been destroyed.</p> <p>Use <code>destroyed</code> if you need do any last-minute cleanup or inform a remote server that the component was destroyed:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> ExampleAnalyticsService <span class="token keyword">from</span> <span class="token string">'./example-analytics-service'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">At this point, watchers, child components, and event listeners have been torn down.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    ExampleAnalyticsService<span class="token punctuation">.</span><span class="token function">informService</span><span class="token punctuation">(</span><span class="token string">'Component destroyed.'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>First, this snippet will import <code>ExampleAnalyticsService</code>. When the <code>beforeDestroy</code> hook is run, this snippet will log the message <code>At this point, watchers, child components, and event listeners have been torn down.</code>. What remains of the component will be logged to console, and <code>ExampleAnalyticsService</code> will be passed the message <code>Component destroyed.</code>.</p> <p>With that, you have completed your general review of the Vue.js lifecycle hooks.</p> <h2 id="other-hooks"><a href="#other-hooks" class="header-anchor">#</a> Other Hooks</h2> <p>There are two other hooks, <code>activated</code> and <code>deactivated</code>. These are for <code>keep-alive</code> components, a topic that is outside the scope of this article.</p> <p>Suffice it to say that they allow you to detect when a component that is wrapped in a <code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code> tag is toggled on or off. You might use them to fetch data for your component or handle state changes, effectively behaving as <code>created</code> and <code>beforeDestroy</code> without the need to do a full component rebuild.</p> <h2 id="composition-api-with-vue3"><a href="#composition-api-with-vue3" class="header-anchor">#</a> Composition API with Vue3</h2> <p>Mapping between Options API Lifecycle Options and Composition API</p> <ul><li><s><code>beforeCreate</code></s> -&gt; use <code>setup()</code></li> <li><s><code>created</code></s> -&gt; use <code>setup()</code></li> <li><code>beforeMount</code> -&gt; <code>onBeforeMount</code></li> <li><code>mounted</code> -&gt; <code>onMounted</code></li> <li><code>beforeUpdate</code> -&gt; <code>onBeforeUpdate</code></li> <li><code>updated</code> -&gt; <code>onUpdated</code></li> <li><code>beforeUnmount</code> -&gt; <code>onBeforeUnmount</code></li> <li><code>unmounted</code> -&gt; <code>onUnmounted</code></li> <li><code>errorCaptured</code> -&gt; <code>onErrorCaptured</code></li> <li><code>renderTracked</code> -&gt; <code>onRenderTracked</code></li> <li><code>renderTriggered</code> -&gt; <code>onRenderTriggered</code></li></ul> <p>See also: <a href="https://v3.vuejs.org/guide/composition-api-lifecycle-hooks.html" target="_blank" rel="noopener noreferrer">Composition API lifecycle hooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>In this article, you were introduced to different lifecycle hooks available in the Vue.js Instance Lifecycle. You explored the different use cases for creation hooks, mounting hooks, updating hooks, and destruction hooks.</p> <p>If you'd like to learn more about Vue.js, check out <a href="https://www.digitalocean.com/community/tags/vue-js" target="_blank" rel="noopener noreferrer">our Vue.js topic page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for exercises and programming projects.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/resources/wk6/ComponentBasedArchitecture.html" class="prev">
        Understanding Component-Based Architecture
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b782f0d7.js" defer></script><script src="/assets/js/2.41bf532a.js" defer></script><script src="/assets/js/39.1f6dc2fb.js" defer></script>
  </body>
</html>
